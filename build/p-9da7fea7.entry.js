import{r as s,h as t,H as i,g as l}from"./p-db4e877b.js";const e=class{constructor(t){s(this,t),this.position=0,this.containerWidth=0,this.childWidth=0,this.margin=0,this.gutter="md",this.prevButtonText="scroll left",this.nextButtonText="scroll right",this.linkTag="a",this.hrefProp="href",this.isStart=!0,this.isEnd=!1}componentDidRender(){this.setScrollValues(),this.setScrollListener(),this.setItemWidth()}setItemWidth(){this.itemWidth&&Array.from(this.$el.querySelector(".scrolling-content").children).forEach((s=>s.style.width=this.itemWidth))}setScrollListener(){this.$container.addEventListener("scroll",(s=>{let t=s.target,i=t.scrollLeft+t.offsetWidth;this.isStart=i===t.offsetWidth,this.isEnd=i>=t.scrollWidth}))}scrollRight(){this.setScrollValues();let s=this.$container.scrollWidth-this.containerWidth;this.position=this.$container.scrollLeft+this.getScrollWidth(),this.position=this.position>=s?s+1:this.position,this.scroll()}scrollLeft(){this.setScrollValues(),this.position=this.$container.scrollLeft-this.getScrollWidth(),this.position=this.position<=0?0:this.position,this.scroll()}scroll(){this.supportsSmoothScrolling()?this.$container.scroll({left:this.position,behavior:"smooth"}):this.scrollTo(this.$container,this.$container.scrollLeft,this.position)}scrollTo(s,t,i,l=1e3,e=0){if(t=t<=0?0:t,i=i<=0?0:i,e>=l)return;let r=e/l*Math.PI/2,n=(i-t)*Math.sin(r);setTimeout((()=>{s.scrollLeft=t+n,this.scrollTo(s,t,i,l,e+5)}))}supportsSmoothScrolling(){const s=document.body,t=s.style.scrollBehavior;s.style.scrollBehavior="smooth";const i="smooth"===getComputedStyle(s).scrollBehavior;return s.style.scrollBehavior=t,i}setScrollValues(){this.$container=this.$el.querySelector(".content-wrapper"),this.containerWidth=this.$container.offsetWidth;let s=this.$el.querySelector(".scrolling-content > *");this.childWidth=s.offsetWidth;let t=window.getComputedStyle(s);this.margin=parseFloat(t.marginRight)}getScrollWidth(){return this.containerWidth<this.childWidth+this.margin?this.containerWidth:Math.floor(this.containerWidth/(this.childWidth+this.margin))*(this.childWidth+this.margin)}render(){let s={"content-wrapper":!0,"b-l-xxxs":!this.isStart,"b-r-xxxs":!this.isEnd};return t(i,{class:{"ks-gallery":!0,[`gutter-${this.gutter}`]:!0}},t("header",{class:"header"},t("h2",{class:"heading"},this.href?t(this.linkTag,{ref:s=>s.setAttribute(this.hrefProp,this.href)},this.heading):this.heading),t("div",{class:"controls"},t("ks-button",{class:"scroll-left",size:"xs",display:"clear",disabled:this.isStart,onClick:()=>this.scrollLeft()},t("ks-icon",{class:"text-lg",icon:"chevron_left",label:this.prevButtonText})),t("ks-button",{class:"scroll-right",size:"xs",display:"clear",disabled:this.isEnd,onClick:()=>this.scrollRight()},t("ks-icon",{class:"text-lg",icon:"chevron_right",label:this.nextButtonText})))),t("div",{class:s},t("div",{class:"scrolling-content"},t("slot",null))))}get $el(){return l(this)}};e.style=".ks-gallery.gutter-auto .scrolling-content>*{margin-right:var(--ks-spacing-size-auto)}.ks-gallery.gutter-none .scrolling-content>*{margin-right:var(--ks-spacing-size-none)}.ks-gallery.gutter-xxxs .scrolling-content>*{margin-right:var(--ks-spacing-size-xxxs)}.ks-gallery.gutter-xxs .scrolling-content>*{margin-right:var(--ks-spacing-size-xxs)}.ks-gallery.gutter-xs .scrolling-content>*{margin-right:var(--ks-spacing-size-xs)}.ks-gallery.gutter-sm .scrolling-content>*{margin-right:var(--ks-spacing-size-sm)}.ks-gallery.gutter-md .scrolling-content>*{margin-right:var(--ks-spacing-size-md)}.ks-gallery.gutter-lg .scrolling-content>*{margin-right:var(--ks-spacing-size-lg)}.ks-gallery.gutter-xl .scrolling-content>*{margin-right:var(--ks-spacing-size-xl)}.ks-gallery.gutter-xxl .scrolling-content>*{margin-right:var(--ks-spacing-size-xxl)}.ks-gallery.gutter-xxxl .scrolling-content>*{margin-right:var(--ks-spacing-size-xxxl)}.ks-gallery .header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.ks-gallery .header .heading{margin:var(--ks-spacing-size-none)}.ks-gallery .content-wrapper{overflow-x:auto;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none}.ks-gallery .content-wrapper::-webkit-scrollbar{display:none}.ks-gallery .content-wrapper .scrolling-content{display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;padding:var(--ks-spacing-size-xs)}.ks-gallery .content-wrapper .scrolling-content:last-child{margin-right:var(--ks-spacing-size-xs)}.ks-gallery .content-wrapper .scrolling-content>*{-ms-flex:0 0 auto;flex:0 0 auto}";export{e as ks_gallery}